(this["webpackJsonp13-12-2021"]=this["webpackJsonp13-12-2021"]||[]).push([[6],{23:function(t,e,o){"use strict";o.d(e,"a",(function(){return r})),o.d(e,"c",(function(){return a})),o.d(e,"b",(function(){return c}));o(25);var n="https://edgemony-backend.herokuapp.com",r=function(t){return fetch(n+t).then((function(t){return t.json()}))},a=function(t,e){return fetch(n+t,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()}))},c=function(t){return fetch(n+t,{method:"DELETE",headers:{"Content-type":"application/json"}}).then((function(t){return t.json()}))}},25:function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));var n=o(7);var r=o(6);function a(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(r.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},26:function(t,e,o){"use strict";var n=o(27),r=o.n(n),a=o(1);e.a=function(t){var e=t.bgColor,o=t.text;return Object(a.jsx)("div",{className:r.a.Modal,style:{background:"".concat(e)},children:Object(a.jsx)("p",{children:o})})}},27:function(t,e,o){t.exports={Modal:"Modal_Modal__32mLz"}},38:function(t,e,o){t.exports={createPost:"CreatePost_createPost__3XCbM",__author:"CreatePost___author__2lcbm"}},45:function(t,e,o){"use strict";o.r(e);var n=o(4),r=o(11),a=o(9),c=o(0),u=o(23),i=o(26),s=o(38),l=o.n(s),d=o(1),b={formPostObj:{author:"",text:"",photo:"",date:(new Date).toISOString()},isModalVisible:!1},f=function(t,e){switch(e.type){case"form":return Object(a.a)(Object(a.a)({},t),{},{formPostObj:Object(a.a)(Object(a.a)({},t.formPostObj),{},Object(r.a)({},e.value,e.payload))});case"modal":return Object(a.a)(Object(a.a)({},t),{},{isModalVisible:e.payload});default:return t}};e.default=function(){var t=Object(c.useReducer)(f,b),e=Object(n.a)(t,2),o=e[0],r=e[1];return Object(c.useEffect)((function(){r({type:"modal",payload:!1})}),[o.formPostObj]),Object(d.jsx)("div",{className:l.a.createPost,children:Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{className:l.a.__author,children:[Object(d.jsx)("input",{value:o.formPostObj.author,onChange:function(t){return r({type:"form",value:"author",payload:t.target.value})},name:"author",id:"author",type:"text",placeholder:"Author",required:!0}),Object(d.jsx)("input",{value:o.formPostObj.photo,onChange:function(t){return r({type:"form",value:"photo",payload:t.target.value})},name:"photo",id:"photo",type:"photo",placeholder:"photo URL"}),Object(d.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),Object(u.c)("/posts",o.formPostObj),r({type:"modal",payload:!o.isModalVisible}),setTimeout((function(){r({type:"modal"})}),2e3)},children:"Send"}),o.isModalVisible&&Object(d.jsx)(i.a,{bgColor:"#3498db",text:"Your post has been published"})]}),Object(d.jsx)("textarea",{value:o.formPostObj.text,onChange:function(t){return r({type:"form",value:"text",payload:t.target.value})},name:"text",id:"text",type:"text",cols:"30",rows:"10",placeholder:"text",required:!0})]})})}}}]);
//# sourceMappingURL=6.f970ec4f.chunk.js.map